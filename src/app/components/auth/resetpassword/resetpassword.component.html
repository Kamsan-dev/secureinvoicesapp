<div class="flex justify-center items-center">
  <div class="se-card lg:w-[30%] w-[90%] md:w-[30%]">
    <div class="se-card-header bg-slate-600">
      <div class="flex flex-col gap-1 justify-center items-center pb-4">
        <div>
          <img class="w-[9rem] h-[9rem]" src="../../../assets/images/logo.png" alt="secure-invoices-logo" />
        </div>
        <div>
          <span class="text-xl text-gray-300">Reset password</span>
        </div>
      </div>
    </div>
    <div class="se-card-body" *ngIf="resetPasswordState() as state">
      <div class="justify-center">
        <form [formGroup]="resetPasswordForm" (ngSubmit)="onResetPasswordSubmit()" class="w-full flex flex-col items-center gap-4">
          <div class="w-full max-w-[90%]">
            <div class="mb-2" *ngIf="state.error != undefined">
              <p-message severity="error" [text]="state.error" styleClass="w-full"></p-message>
            </div>
            <div class="mb-2" *ngIf="state.dataState === dataState.LOADED && state.message">
              <p-message severity="success" [text]="state.message" styleClass="w-full"></p-message>
            </div>
            <div class="form-row">
              <label for="password" class="form-label">Email Address</label>
              <input pInputText="email" formControlName="email" name="email" class="form-input" required minlength="3" />
            </div>
            <p-button
              severity="info"
              type="submit"
              styleClass="w-full mt-4"
              [loading]="state.dataState === 'LOADING_STATE'"
              [disabled]="loading() || resetPasswordForm.invalid || resetPasswordForm.pristine"
            >
              <span class="flex justify-center items-center gap-2 w-full">
                {{ state.dataState === 'LOADING_STATE' ? 'Loading...' : 'Reset my password' }}
                <i class="fa-solid fa-right-to-bracket"></i>
              </span>
            </p-button>
          </div>
          <div class="mt-4">
            <span class="text-sm text-slate-300">Remember it ? <a [routerLink]="['/login']" class="text-sky-500 text-sm no-underline">Sign in here.</a></span>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
